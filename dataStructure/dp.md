## 动态规划四步曲
1. 确定状态
- 简单的可以直接根据题目要求的结果得出，难一点的需要自己分析。
- 一般直接 [自顶向下] 或 [自底向上] 分析可以得到。
2. 状态转移方程（数学归纳法）
- 当问题的规模逐渐变大的时候，由逐渐变大的子问题得到一个数学的关系式。（这也是最难的一点）
3. 初始条件和边界
- 问题的起始条件，重点是分析清楚1和2这两点之后可得出
4. 枚举状态（DP table）
- 根据问题的规模不断变大，递推填表得到最后的解
- tips: 这四步一定要一步步想清楚，特别是前三步，难度也在前三步，想清楚了dp也就迎刃而解了；

# 买卖股票系列
- 既然是买卖股票系列问题，那我们先想清买卖股票的状态
1. buy：在 k 次以内，未持有股票，就可以买入; 也可以rest。
2. sell: 持有股票，才能卖出0; 当然也可以rest
3. rest: 不买也不卖。
- 所以我们的状态可以这样定义dp[i][k][0 or 1]
- 在K次的交易内，第i天持有或者未持有股票的最大利润；
- 很显然要求的结果就是 dp[i][k][0]

# 状态转移方程
1. dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i])
                 max(   选择 rest  ,           选择 sell      )
解释：今天我没有持有股票，有两种可能：
要么是我昨天就没有持有，然后今天选择 rest，所以我今天还是没有持有；
要么是我昨天持有股票，但是今天我 sell 了，所以我今天没有持有股票了。

2. dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])
                 max(   选择 rest  ,           选择 buy         )
解释：今天我持有着股票，有两种可能：
要么我昨天就持有着股票，然后今天选择 rest，所以我今天还持有着股票；
要么我昨天本没有持有，但今天我选择 buy，所以今天我就持有股票了。

# 初始条件和边界
dp[-1][k][0] = 0
解释：因为 i 是从 0 开始的，所以 i = -1 意味着还没有开始，这时候的利润当然是 0 。
dp[-1][k][1] = -infinity
解释：还没开始的时候，是不可能持有股票的，用负无穷表示这种不可能。
dp[i][0][0] = 0
解释：因为 k 是从 1 开始的，所以 k = 0 意味着根本不允许交易，这时候利润当然是 0 。
dp[i][0][1] = -infinity
解释：不允许交易的情况下，是不可能持有股票的，用负无穷表示这种不可能。

# 总结状态转移方程 和 base case
```js
// base case：
dp[-1][k][0] = dp[i][0][0] = 0         //还未开始，利润肯定是零
dp[-1][k][1] = dp[i][0][1] = -infinity //还未开始，不可能持有股票

// 状态转移方程：
dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i])
dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])
// 接下来根据这个状态转移方程枚举 DP table 即可。
```


